{"version":3,"sources":["MegaMenu.js"],"names":["domReady","callback","document","readyState","addEventListener","MegaMenu","rootElement","props","root","mobile","menus","Array","from","querySelectorAll","buttonSelector","forEach","menuButton","link","menuContainer","nextElementSibling","mobileBack","querySelector","mobileBackSelector","menuObj","LinkExpandable","linkElement","expandableElement","mobileBackButton","push","bind","component","event","expandedMenu","detail","menu","minimize","classList","add","remove","offset","activeMenu","some","i","buttonElement","getAttribute","expand"],"mappings":";;;;;;AAAA,IAAIA,WAAW,SAAXA,QAAW,CAAUC,QAAV,EAAoB;AAC/BC,aAASC,UAAT,KAAwB,aAAxB,IAAyCD,SAASC,UAAT,KAAwB,UAAjE,GAA8EF,UAA9E,GAA2FC,SAASE,gBAAT,CAA0B,kBAA1B,EAA8CH,QAA9C,CAA3F;AACH,CAFD;;IAKMI,Q;AAEF,sBAAYC,WAAZ,EAAyBC,KAAzB,EAAgC;AAAA;;AAAA;;AAC5B,aAAKC,IAAL,GAAYF,WAAZ;AACA,aAAKG,MAAL,GAAcF,MAAME,MAApB;AACA,aAAKC,KAAL,GAAa,EAAb;AACAC,cAAMC,IAAN,CAAW,KAAKJ,IAAL,CAAUK,gBAAV,CAA2BN,MAAMO,cAAjC,CAAX,EAA6DC,OAA7D,CAAqE,gBAAQ;AACzE,gBAAIC,aAAaC,IAAjB;AACA,gBAAIC,gBAAgBD,KAAKE,kBAAzB;AACA,gBAAIC,aAAaF,cAAcG,aAAd,CAA4Bd,MAAMe,kBAAlC,CAAjB;AACA,gBAAIC,UAAU,IAAIC,cAAJ,CAAmB,EAACC,aAAYT,UAAb,EAAyBU,mBAAmBR,aAA5C,EAA2DS,kBAAiBP,UAA5E,EAAnB,EAA4G,EAACX,QAAOF,MAAME,MAAd,EAA5G,CAAd;AACA,kBAAKC,KAAL,CAAWkB,IAAX,CAAgBL,OAAhB;AACH,SAND;AAOA,aAAKM,IAAL;AACH;;;;+BAEM;AACH;AACA,gBAAMC,YAAY,IAAlB;;AAEA;AACA;AACA,iBAAKtB,IAAL,CAAUJ,gBAAV,CAA2B,UAA3B,EAAuC,UAAU2B,KAAV,EAAiB;AACpD,oBAAIC,eAAeD,MAAME,MAAN,CAAaC,IAAhC;AACAJ,0BAAUpB,KAAV,CAAgBK,OAAhB,CAAwB,UAAUmB,IAAV,EAAgB;AACpC,wBAAIA,SAASF,YAAb,EAA2BE,KAAKC,QAAL;AAC9B,iBAFD;AAGAL,0BAAUtB,IAAV,CAAe4B,SAAf,CAAyBC,GAAzB,CAA6B,MAA7B;AACH,aAND;;AAQA,iBAAK7B,IAAL,CAAUJ,gBAAV,CAA2B,WAA3B,EAAwC,UAAU2B,KAAV,EAAiB;AACrDD,0BAAUtB,IAAV,CAAe4B,SAAf,CAAyBE,MAAzB,CAAgC,MAAhC;AACH,aAFD;AAIH;;;mCAEUC,M,EAAQ;AACf,gBAAIC,mBAAJ;AACA,gBAAMV,YAAY,IAAlB;AACA,iBAAKpB,KAAL,CAAW+B,IAAX,CAAgB,UAAUP,IAAV,EAAgBQ,CAAhB,EAAmB;AAC/B,oBAAIR,KAAKS,aAAL,CAAmBC,YAAnB,CAAgC,eAAhC,MAAqD,MAAzD,EAAiE;AAC7DJ,iCAAaN,IAAb;AACA,wBAAIJ,UAAUpB,KAAV,CAAgBgC,IAAIH,MAApB,CAAJ,EAAiC;AAC7BT,kCAAUpB,KAAV,CAAgBgC,IAAIH,MAApB,EAA4BM,MAA5B;AACA,+BAAO,IAAP;AACH;AACJ;AACJ,aARD;AASH","file":"MegaMenu.js","sourcesContent":["let domReady = function (callback) {\n    document.readyState === \"interactive\" || document.readyState === \"complete\" ? callback() : document.addEventListener(\"DOMContentLoaded\", callback);\n};\n\n\nclass MegaMenu {\n\n    constructor(rootElement, props) {\n        this.root = rootElement;\n        this.mobile = props.mobile;\n        this.menus = [];\n        Array.from(this.root.querySelectorAll(props.buttonSelector)).forEach(link => {\n            let menuButton = link;\n            let menuContainer = link.nextElementSibling;\n            let mobileBack = menuContainer.querySelector(props.mobileBackSelector);\n            let menuObj = new LinkExpandable({linkElement:menuButton, expandableElement: menuContainer, mobileBackButton:mobileBack}, {mobile:props.mobile});\n            this.menus.push(menuObj);\n        });\n        this.bind();\n    }\n\n    bind() {\n        //UIEvents\n        const component = this;\n\n        //CustomEvents\n        //Bubbled from ExpandableMenu\n        this.root.addEventListener('expanded', function (event) {\n            let expandedMenu = event.detail.menu;\n            component.menus.forEach(function (menu) {\n                if (menu !== expandedMenu) menu.minimize();\n            });\n            component.root.classList.add(\"open\");\n        });\n\n        this.root.addEventListener('minimized', function (event) {\n            component.root.classList.remove(\"open\");\n        });\n\n    }\n\n    expandMenu(offset) {\n        let activeMenu;\n        const component = this;\n        this.menus.some(function (menu, i) {\n            if (menu.buttonElement.getAttribute('aria-expanded') === 'true') {\n                activeMenu = menu;\n                if (component.menus[i + offset]) {\n                    component.menus[i + offset].expand();\n                    return true;\n                }\n            }\n        });\n    }\n}\n\n"]}